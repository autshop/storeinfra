Description: >
  Secrets for store API.

Parameters:
  TenantId:
    Description: Id of tenant.
    Type: Number

Resources:
  Secret:
    Type: AWS::SecretsManager::Secret
    Properties:
      Name: !Join [ "-", [ "tenant", "secrets", !Ref TenantId ] ]
      SecretString: !Sub
        - '{"DB_USERNAME":"${DB_USERNAME}","DB_PASSWORD":"${DB_PASSWORD}", "DB_SERVER":"${DB_SERVER}", "DB_NAME": "${DB_NAME}", "DB_PORT": "${DB_PORT}"}'
        - DB_USERNAME: "admin"
          DB_PASSWORD: "admin"
          DB_SERVER: "admin"
          DB_NAME: "admin"
          DB_PORT: "admin"

Outputs:
  SecretArn:
    Value: !Ref Secret